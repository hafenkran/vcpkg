diff --git a/CMakeLists.txt b/CMakeLists.txt
index 6eb8bb5..1506a64 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -13,6 +13,10 @@ cmake_policy(SET CMP0048 NEW)
 
 project(upb)
 
+add_definitions(-D_CRT_SECURE_NO_WARNINGS)
+if(MSVC)
+  add_compile_options(/wd4146)
+endif()
 
 # Prevent CMake from setting -rdynamic on Linux (!!).
 SET(CMAKE_SHARED_LIBRARY_LINK_C_FLAGS "")
